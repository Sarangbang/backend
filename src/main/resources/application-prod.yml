server:
  port: ${SERVER_PORT:8080}

spring:
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/sarangbang}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:1234}
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: ${DB_DDL_AUTO:validate}  # 운영에서는 validate 사용
    show-sql: ${DB_SHOW_SQL:false}       # 운영에서는 SQL 로깅 비활성화
    properties:
      hibernate:
        format_sql: ${DB_FORMAT_SQL:false}
        use_sql_comments: ${DB_USE_SQL_COMMENTS:false}
  data:
    mongodb:
      uri: ${DB_MONGO_URI:mongodb://root:1234@localhost:27017/mongo?authSource=admin}

  # 파일 업로드 설정
  servlet:
    multipart:
      max-file-size: 10MB      # 개별 파일 최대 크기
      max-request-size: 50MB   # 전체 요청 최대 크기
      enabled: true            # 멀티파트 업로드 활성화

# MinIO 설정 (S3 호환 저장소)
minio:
  url: ${MINIO_URL:http://localhost:9000}           # MinIO 서버 주소
  access-key: ${MINIO_ACCESS_KEY:minioadmin}        # 접근 키
  secret-key: ${MINIO_SECRET_KEY:minioadmin123}     # 비밀 키
  bucket-name: ${MINIO_BUCKET:sarangbang-files}     # 버킷 이름

# 애플리케이션 설정
app:
  upload:
    max-file-size: 5242880  # 5MB in bytes
    allowed-image-types: image/jpeg,image/jpg,image/png,image/gif,image/webp
  
  storage:
    type: s3                # 저장소 타입 (운영환경: s3)

discord:
  webhook:
    url: "${DISCORD_WEBHOOK_URL:discord_webhook_url}"
